# hooks addon SOUND support
# need alsa-utils


if [ ! $TCOS_SOUND ]; then
  _verbose "(20alsa) TCOS_SOUND disabled"
else

    stat_before
    
    # TCOS MIXER (include ALSA and OSS support)
    cpifexists ${TCOS_BINS}/tmixer  /usr/bin/
 
    mkdir -p $DESTDIR/usr/share/
    copydir /usr/share/alsa/ /usr/share/
    mkdir -p $DESTDIR/var/run/alsa

    mkdir -p $DESTDIR/lib
    if [ -d /lib/alsa ]; then
     copydir /lib/alsa      /lib/
    fi

    mkdir -p $DESTDIR/etc/init.d/
    cpifexists /etc/init.d/alsa-utils /etc/init.d/
 
    if [ -d /etc/alsa ]; then
      copydir /etc/alsa/      /etc/
    fi

    if [ -f /etc/modutils/alsa-base ]; then
      # debian alsa-base
      mkdir -p $DESTDIR/etc/modutils/
      cpifexists /etc/modutils/alsa-base /etc/modutils
    fi

    if [ -f /etc/modprobe.d/alsa-base ]; then
      # ubuntu alsa-base
      mkdir -p $DESTDIR/etc/modprobe.d/
      cpifexists /etc/modprobe.d/alsa-base /etc/modprobe.d/
    fi

 
    stat_after "Alsa sound support"

fi # end of TCOS_SOUND
