initramfs-tools-tcos (0.88.14.13) unstable; urgency=low

  * udev/mount_listener.c
    - Fix Segmentation Fault:
      call to save-udev.sh, use popen() instead of system()
  * xmlrpc/get_screenshot.c xmlrpc/screenshot.h xmlrpc/common.c
    xmlrpc/sh/screenshot64.sh hooks-addons/25tcosmonitor
    - Remove screenshot64.sh and base64
    - Rewrite tcos_get_screenshot method with base64_encode function (based on wpa_supplicant)

 -- Mario Izquierdo (mariodebian) <mariodebian@gmail.com>  Tue, 19 Feb 2008 17:31:37 +0100

initramfs-tools-tcos (0.88.14.12) unstable; urgency=low

  * udev/tcos-udevd.sh udev/save-udev.sh:
    - Collect mount/umount events with listener-daemon in any kernel version
  * scripts/tcos-bottom/70wakeonlan hooks-addons/45wakeonlan
    conf/tcos.conf
    - New var TCOS_WAKEONLAN
    - Set eth0 wol on during boot (needed in some network cards)

 -- Mario Izquierdo (mariodebian) <mariodebian@gmail.com>  Sun, 17 Feb 2008 18:45:21 +0100

initramfs-tools-tcos (0.88.14.11) unstable; urgency=low

  * xmlrpc/*
    - Add new method getscreenshot (returns base64 screenshot file)
  * xmlrpc/sh/screenshot*:
    - Change default image format to jpg
  * hooks-addons/25tcosmonitor
    - Add jpg imlib2 lib and remove gif (not used)
    - Add base64 bin and screenshot64.sh script
  * xmlrpc/var/etc/abyss.conf
    - Change port from 8080 to 8998 (not conflicts with proxys or dansguardian)
  * udev/tcos-udevd.sh udev/save-udev.sh
    - Search ID_VENDOR and ID_MODEL in /sys tree if empty
  * udev/tcos-udevd.sh udev/save-udev.sh
    - Remove spaces in ID_VENDOR and ID_MODEL detection 

 -- Mario Izquierdo (mariodebian) <mariodebian@gmail.com>  Mon, 11 Feb 2008 12:05:24 +0100

initramfs-tools-tcos (0.88.14.10) unstable; urgency=low

  * udev/mount_listener.c udev/listener-daemon.sh udev/save-udev.sh
    - Make mount-listener more inteligent, compare files and sync without scripts
    - save-udev.sh is a script helper to generate udev event and put into /tmp/tcos-udev.log
    - listener-daemon.sh now only start mount-listener and if crash start again
  * hooks-addons/25tcosmonitor
    - Add save-udev.sh script to image
  * scripts/tcos-bottom/55mount_listener
    - Remove extra code
  * xmlrpc/tcosxmlrpc.c
    - Include time.h header

 -- Mario Izquierdo (mariodebian) <mariodebian@gmail.com>  Wed, 06 Feb 2008 23:52:16 +0100

initramfs-tools-tcos (0.88.14.9) unstable; urgency=low

  * xmlrpc/xauth.[ch]:
    - Add mkstemp file to create xauth (don't fail with concurrect connections)
  * xmlrpc/devices.c
    - Add more debug output (error codes)
  * xmlrpc/xauth.c xmlrpc/xauth.h
    - Use popen to write tmp cookie
    - Remove for loop
  * xmlrpc/*:
    - Reorganize code, move some functions to common.c and defines to common.h
  * Fix some license typos (tcos is GPL2+)

 -- Mario Izquierdo (mariodebian) <mariodebian@gmail.com>  Tue, 05 Feb 2008 23:49:36 +0100

initramfs-tools-tcos (0.88.14.8) unstable; urgency=low

  * Add libwfb.so file to fix-nvidia-atu hack (need to rerun gentcos -fix-nvidia-ati)
  * Update Debian Unstable kernel to 2.6.24-1
  * xmlrpc/exe.h:
    - Add XAUTHORITY=/root/.Xauthority to thin client
  * xmlrpc/xauth.c:
    - unset tmp env var XAUTHORITY
  * xmlrpc/sh/devicesctl.sh:
    - Don't fail if already mounted
  * Update Debian etch kernel to 2.6.18-6
  * xmlrpc/xauth.h:
    - Declare unsetenv prototype

 -- Mario Izquierdo (mariodebian) <mariodebian@gmail.com>  Mon, 04 Feb 2008 15:24:45 +0100

initramfs-tools-tcos (0.88.14.7) unstable; urgency=low

  * scripts/tcos-premount/20hdd:
    - Change /target with /mnt/tmp (booting from hdd)

 -- Mario Izquierdo (mariodebian) <mariodebian@gmail.com>  Tue, 29 Jan 2008 16:23:06 +0100

initramfs-tools-tcos (0.88.14.6) unstable; urgency=low

  * bin/gentcos:
    - Don't show warnings if running in chroot
  * bin/tcos-buildchroot:
    - Save settings in chroot/tcos-buildchroot.conf
    - Allow to install other distributions (ubuntu from debian for example)
    - Allow to set TCOS mirror or ubuntu security mirror
    - Enable DEBIAN_FRONTEND again (set to dialog in upgrade) 

 -- Mario Izquierdo (mariodebian) <mariodebian@gmail.com>  Sun, 27 Jan 2008 16:51:38 +0100

initramfs-tools-tcos (0.88.14.5) unstable; urgency=low

  * scripts/tcos-top/20mountnfs
    - Move NFS and ramdisk to /mnt/
    - Set ramdisk size to 5m (normal boot needs 2.3 Mb)
    - Move /mnt/nfs and /mnt/ram to /root/.dirs
  * scripts/tcos-top/01busybox:
    - Hide errors in modprobe nfs and af_packet modules
  * hooks-addons/00main:
    - Create empty /etc/modules (needed by 05inittcos)
  * scripts/tcos-bottom/05inittcos:
    - Redirect errors in modprobe

 -- Mario Izquierdo (mariodebian) <mariodebian@gmail.com>  Sun, 27 Jan 2008 12:46:02 +0100

initramfs-tools-tcos (0.88.14.4) unstable; urgency=low

  * Add max (Ubuntu MAdrid_linuX) to distro list

 -- Mario Izquierdo (mariodebian) <mariodebian@gmail.com>  Sat, 26 Jan 2008 18:35:25 +0100

initramfs-tools-tcos (0.88.14.3) unstable; urgency=low

  * Move script/tcos-top/40make_init to 60make_init
  * hooks-addons/99clean_nfs_image:
    - Don't remove ide and ata modules (need for swap in NFS boot)
    - Delete usplash bins and libs (with 32 Mb of RAM can't play with usplash)
  * scripts/tcos-top/20mountnfs:
    - Reduce ramdisk size from 5m to 1m
  * scripts/tcos-bottom/30devices:
    - call fstab again (with NFS modules)
  * bin/gentcos:
    - Warn about /etc/exports not found
  * scripts/tcos-premount/20hdd
    - Detect if bootting from hdd mount disk in /target and create symlink if squashfs exists
  * bin/tcos-buildchroot
    - Fix typo DEBIAN_FRONTEND => DEBCONF_FRONTEND
    - Change DEBCONF_FRONTEND to dialog in some cases (needed for user input)

 -- Mario Izquierdo (mariodebian) <mariodebian@gmail.com>  Sat, 26 Jan 2008 18:17:37 +0100

initramfs-tools-tcos (0.88.14.2) unstable; urgency=low

  * hooks-addons/13kbmap:
    - Don't copy keymaps if exists
  * scripts/tcos-top/50fstab:
    - Move exit code after /etc/fstab creation
    - Allow to mount /dev/pts always

 -- Mario Izquierdo (mariodebian) <mariodebian@gmail.com>  Tue, 22 Jan 2008 17:50:09 +0100

initramfs-tools-tcos (0.88.14.1) unstable; urgency=low

  * Remove httpfs build (old versions of libfuse don't work)

 -- Mario Izquierdo (mariodebian) <mariodebian@gmail.com>  Sun, 20 Jan 2008 11:57:40 +0100

initramfs-tools-tcos (0.88.14) unstable; urgency=low

  * New stable release
  * hooks-addons/01dhclient:
    - Don't copy dhclient-script, create a small hack to configure network
  * Reorganize scripts/tcos-premount to allow get squashfs with other methods ( plugins?? )

 -- Mario Izquierdo (mariodebian) <mariodebian@gmail.com>  Sat, 19 Jan 2008 15:07:40 +0100

initramfs-tools-tcos (0.88.13.4) unstable; urgency=low

  * Add HTTPFS method to get squashfs

 -- Mario Izquierdo (mariodebian) <mariodebian@gmail.com>  Fri, 04 Jan 2008 14:09:58 +0100

initramfs-tools-tcos (0.88.13.3) unstable; urgency=low

  * scripts/tcos-top/01busybox:
    - Wait for any wireless iface instead of only eth0
  * bin/gentcos:
    - In cdrom copy initramfs as initrd.cdrom
  * conf/tcos-run-functions.sh:
    - Disable progress log (too many calls)
  * bin/installer.sh:
    - Copy files from cdrom instead of network if booting from cdrom
  * grub/menu.lst-tcos:
    - Put initrd var in kernel line to allow installer to detect cdrom

 -- Mario Izquierdo (mariodebian) <mariodebian@gmail.com>  Wed, 26 Dec 2007 15:47:04 +0100

initramfs-tools-tcos (0.88.13.2) unstable; urgency=low

  * session-cmd/session-cmd-exec:
    - Fix actions
  * lockscreen/Makefile:
    - Update debug make
  * xmlrpc/sh/vnc-controller.sh:
    - Revert some changes and update screensize cmd
  * bin/daemonize.sh:
    - Not work with new method reboot and poweroff

 -- Ignacio Vidal <vidal_joshur@gva.es>  Mon, 24 Dec 2007 04:49:06 +0100

initramfs-tools-tcos (0.88.13.1) unstable; urgency=low

  [ Ignacio Vidal ]
  * debian/control:
    - Add vlc depend
  * session-cmd/session-cmd-exec:
    - Add Poweroff and Reboot actions
  * scripts/tcos-premount/20swapon:
    - Fix memory exhausted in dd command
  * scripts/tcos-premount/15uselocal:
    - Fix typo
  * lockscreen/*:
    - Add screensize command to obtain screen resolution for vncviewer
    - Add lockkeybmouse to avoid user interaction with video difusion
    - Update Makefile
  * xmlrpc/*:
    - Add support for new lockkeybmouse in tcosxmlrpc.c
    - Add lockkeybmouse.c
  * xmlrpc/sh/vnc-controller.sh:
    - Exec vncviewer with screen resolution in client
  * bin/tryXorg.sh:
    - Fix sed
  * hooks-addons/*
    - 22esd: Fix esd command and ldd, now works correctly in etc-2300 and also
             fix sound which only work in first user logged
    - 25tcosmonitor: Fix typos and add support for lockkeybmouse and screensize
    - 21pulseaudio: Fix ldd and not remove necessary modules

  [ Mario Izquierdo (mariodebian) ]
  * bin/installer.sh
    - Copy files if boot from cdrom (initrd.gz image)
  * bin/gentcos
    - Use parse_pxelinux to create isolinux cfg file 

 -- Mario Izquierdo (mariodebian) <mariodebian@gmail.com>  Sun, 23 Dec 2007 00:27:23 +0100

initramfs-tools-tcos (0.88.13) unstable; urgency=low

  * hooks-addons/18tcos_hdd_installer bin/installer.sh
    - Use install-mbr from mbr package to regenerate HDD TOC
  * hooks-addons/22esd
    - Start esound without -noterminate
  * bin/rsync-controller
    - Delete -no-p -no-g -chmod in rsync cmdline
  * debian/rules
    - Call dh_installinit with -n (not duplicate postinst code)
  * debian/control
    - Add mbr package depend
    - Revert ltspfs depends, change order first ltspfs-client second ltspfsd
  * session-cmd/session-cmd-script
    - Wait 2 seconds after killing faucet
  * Merge from branches/experimental r608 => r615

 -- Mario Izquierdo (mariodebian) <mariodebian@gmail.com>  Wed, 19 Dec 2007 09:31:59 +0100

initramfs-tools-tcos (0.88.12) unstable; urgency=low

  * scripts/tcos-premount/35sqmount
    - Check if mount squashfs returns error and stop loading (new squashfs bugs)
  * hooks/tcosbin
    - Check if mksquashfs returns error
  * xmlrpc/xauth.h xmlrpc/xauth.c
    - New function check_ip_address that return an IP address check struct
    - Don't fail in xauth if pass servername as IP address
    - Rename hostname var to host (now can be an IP address)
  * session-cmd/session-cmd-script
    - Kill facet before launching

 -- Mario Izquierdo (mariodebian) <mariodebian@gmail.com>  Wed, 19 Dec 2007 09:12:51 +0100

initramfs-tools-tcos (0.88.11) unstable; urgency=low

  [ Ignacio Vidal ]
  * xmlrpc/sh/vnc-controller.sh:
    - Fix params in killall for busybox

  [ Mario Izquierdo (mariodebian) ]
  * tcos-standalone/tcos-standalone.py:
    - Save username:password with a end line break

 -- Mario Izquierdo (mariodebian) <mariodebian@gmail.com>  Wed, 12 Dec 2007 16:14:43 +0100

initramfs-tools-tcos (0.88.10) unstable; urgency=low

  * conf/tcos-generation-functions.sh:
    - Fix convert_links2files (check if using PKG_CACHE)
  * hooks-addons/05devices:
    - Support new auth method (LTSPFS_TOKEN) of ltspfsd > 0.5
  * scripts/tcos-bottom/25startx:
    - Save mcookie in /var/run/ltspfs_token
  * xmlrpc/sh/devicesctl.sh:
    - Call ltspfs-set-xprop to auth new LTSPFS_TOKEN
  * debian/control:
    - Split Depends lines again (dapper don't support [arch])

 -- Mario Izquierdo (mariodebian) <mariodebian@gmail.com>  Sun, 09 Dec 2007 16:25:13 +0100

initramfs-tools-tcos (0.88.9) unstable; urgency=low

  * With tcos-standalone separation avoid session-cmd running on server

 -- Ignacio Vidal <vidal_joshur@gva.es>  Fri,  7 Dec 2007 14:09:24 +0100

initramfs-tools-tcos (0.88.8) unstable; urgency=low

  * bin/installer.sh bin/gentcos bin/tcos-buildchroot
    - Add help2.msg file
  * bin/gentcos bin/tcos-buildchroot conf/tcos.conf conf/branding.info
    - Brand TCOS TFTP splash message
  * xmlrpc/exe.c:
    - Debug complete command in job_exe

 -- Mario Izquierdo (mariodebian) <mariodebian@gmail.com>  Wed, 05 Dec 2007 12:57:56 +0100

initramfs-tools-tcos (0.88.7) unstable; urgency=low

  * Patches by: Ignacio Vidal <vidal_joshur@gva.es>
  * xmlrpc/sh/vnc-controller.sh
      - In some cases process not die, need force kill with SIGKILL
      - Fix stopclient, bad username password exec in standalone
  * bin/tcos-buildchroot
      - Need ssh in chroot for xterm connection from tcosmonitor
  * hooks-addons/50xorg
    - Delete libvnc Xorg extension (conflicts with x11vnc)

 -- Mario Izquierdo (mariodebian) <mariodebian@gmail.com>  Wed, 05 Dec 2007 00:23:54 +0100

initramfs-tools-tcos (0.88.6) unstable; urgency=low

  * debian/tcos-standalone.init:
    - Fix stupid typo, if file don't exists exit

 -- Mario Izquierdo (mariodebian) <mariodebian@gmail.com>  Tue, 04 Dec 2007 10:34:57 +0100

initramfs-tools-tcos (0.88.5) unstable; urgency=low

  * tcos-standalone/tcos-standalone.glade:
    - Change invisible character with *
  * debian/tcos-standalone.init:
    - Busybox dapper rename process to httpd, fix for it
    - Exit script if conf file not found

 -- Mario Izquierdo (mariodebian) <mariodebian@gmail.com>  Tue, 04 Dec 2007 09:30:29 +0100

initramfs-tools-tcos (0.88.4) unstable; urgency=low

  * hooks-addons/03wireless scripts/tcos-top/05network:
    - Support WEP encription
    - WEP key is in in new var TCOS_WEP

 -- Mario Izquierdo (mariodebian) <mariodebian@gmail.com>  Mon, 03 Dec 2007 17:04:35 +0100

initramfs-tools-tcos (0.88.3) unstable; urgency=low

  * hooks-addons/25tcosmonitor:
    - Move check of ELF file inside especial start-stop-daemon condition
  * bin/rsync-controller:
    - New script to wrap rsync calls and allow to work with translated dirs

 -- Mario Izquierdo (mariodebian) <mariodebian@gmail.com>  Sun, 02 Dec 2007 11:15:20 +0100

initramfs-tools-tcos (0.88.2) unstable; urgency=low

  * debian/tcos-standalone.init
    - don't exit if TCOS_STANDALONE_START is 0, but no allow to start daemons
    - kill tcosxmlrpc-standalone and delete pid in stop process
    - in tcosxmlrpc status compare pidof output with pid file and ensure pid is not empty
  * hooks-addons/25tcosmonitor bin/tcos-buildchroot:
    - Copy start-stop-daemon original executable in start-stop-daemon.original
    - check that we are copying a binary file and not a script

 -- Mario Izquierdo (mariodebian) <mariodebian@gmail.com>  Thu, 29 Nov 2007 22:50:01 +0100

initramfs-tools-tcos (0.88.1) unstable; urgency=low

  * tcos-standalone/*:
    - New python GUI to configure tcos standalone mode
  * debian/control debian/tcos-core* debian/tcos-standalone*:
    - Move some code to new package tcos-standalone
  * hooks/tcosnfs hooks-addons/00main hooks-addons/00users:
    - Only include files if not using NFS
  * hooks/03wireless  hooks-addons/90usplash:
    - Fix minor typos
  * Add gksu in tcos-standalone.desktop launcher
  * Add Conflicts in new tcos-core with tcos-standalone

 -- Mario Izquierdo (mariodebian) <mariodebian@gmail.com>  Thu, 29 Nov 2007 17:13:16 +0100

initramfs-tools-tcos (0.87.13) unstable; urgency=low

  * gentcos:
    - Add option -rmpkg (remove cached package)
  * session-cmd/session-cmd-exec:
    - Fix typo in TITLE var
  * common.mk:
    - Add Ubuntu hardy to defined distros
  * hooks-addons/00main:
    - Copy real ldconfig (suggested by Ignacio Vidal)
  * lockscreen/lockscreen2.c lockscreen/Makefile:
    - Support branding (if lockscreen-custom.png exists, loads it)
  * common.mk:
    - Add Debian testing to build targets (unstable or etch don't work)

 -- Mario Izquierdo (mariodebian) <mariodebian@gmail.com>  Thu, 29 Nov 2007 11:17:08 +0100

initramfs-tools-tcos (0.87.12) unstable; urgency=low

  * bin/tcos-buildchroot:
     - Update support for Ubuntu distros grather than Gutsy with kernel modules

 -- Ignacio Vidal <vidal_joshur@gva.es>  Tue, 27 Nov 2007 15:00:23 +0100

initramfs-tools-tcos (0.87.11) unstable; urgency=low

  * conf/tcos-run-functions.sh:
    - Revert last change, sorry for break TCOS
  * debian/control:
    - Put depends in single line (old versions like dapper don't allow multiple lines)
    - Remove [i386] arch depends (old versions don't support)
    - Remove mknbi depends from Makefile patch_amd64

 -- Mario Izquierdo (mariodebian) <mariodebian@gmail.com>  Tue, 27 Nov 2007 10:26:33 +0100

initramfs-tools-tcos (0.87.10) unstable; urgency=low

  * session-cmd/session-cmd-exec:
      - Fail to read /etc/tcos/tcos.conf, need correct permissions
  * conf/tcos-run-functions.sh:
      - Fix function, not work anymore tcos pxe
  * bin/tcos-buildchroot:
      - Remove more old files to force links update

 -- Ignacio Vidal <vidal_joshur@gva.es>  Mon, 26 Nov 2007 13:34:18 +0100

initramfs-tools-tcos (0.87.9) unstable; urgency=low

  * Fix branding errors:
    - Only include if file exists

 -- Mario Izquierdo (mariodebian) <mariodebian@gmail.com>  Sun, 25 Nov 2007 23:13:37 +0100

initramfs-tools-tcos (0.87.8) unstable; urgency=low

  * Add branding support:
    - New dir /etc/tcos/conf.d/ which can contain some tcos conf files
  * bin/tcos-buildchroot:
    - Add same apt-get options to all calls
    - Fix some errors
    - tested with Debian and Ubuntu.

 -- Mario Izquierdo (mariodebian) <mariodebian@gmail.com>  Sun, 25 Nov 2007 21:33:00 +0100

initramfs-tools-tcos (0.87.7) unstable; urgency=low

  [ vidal ]
  * session-cmd/*
      - fix syntax error and logout kde

  [ Mario Izquierdo (mariodebian) ]
  * Fix pulseaudio errors, need to update cached pulseaudio-esound-compat package
  * Remove debian/initramfs-tools-tcos.postrm
  * Create TFTPBOOT dir if not exists
  * Clean more dirs in debian/initramfs-tools-tcos.prerm

 -- Mario Izquierdo (mariodebian) <mariodebian@gmail.com>  Sat, 24 Nov 2007 11:53:49 +0100

initramfs-tools-tcos (0.87.6) unstable; urgency=low

  * hooks-addons/21pulseaudio:
    - Don't enable esound protocol in new pulseaudio lib
  * session-cmd/session-cmd.desktop:
    - Start session-cdm from /etc/xdg/autostart
  * session-cmd/session-cmd-script:
    - exit if not remote or not standalone

 -- Mario Izquierdo (mariodebian) <mariodebian@gmail.com>  Mon, 19 Nov 2007 23:07:56 +0100

initramfs-tools-tcos (0.87.5) unstable; urgency=low

  * session-cmd/*
    - kde logout
    - Permission denied with socket creation
    - Not list or remove all sockets in thin clients actions

 -- Ignacio Vidal <vidal_joshur@gva.es>  Mon, 19 Nov 2007 14:32:56 +0100

initramfs-tools-tcos (0.87.4) unstable; urgency=low

  * session-cmd/:
    - Scripts to exit current session (from lliurex developers)
    - Added to debian/copyright
  * bin/tcos-buildchroot:
    - More changes to make work in Ubuntu
  * debian/control:
    - New depends on tcos-core package: netpipes and libnotify-bin (session-cmd)

 -- Mario Izquierdo (mariodebian) <mariodebian@gmail.com>  Sat, 17 Nov 2007 19:11:47 +0100

initramfs-tools-tcos (0.87.3) unstable; urgency=low

  * Fix tcos-buildchroot in Ubuntu

 -- Ignacio Vidal <vidal_joshur@gva.es>  Thu, 15 Nov 2007 23:30:51 +0100

initramfs-tools-tcos (0.87.2) unstable; urgency=low

  * Move usr-x.x.x.squashfs file to TFTP_DIR, files dir is obsolete from now
  * scripts/tcos-bottom/50freespace bin/clear-logs:
    - New script, empty logs files bigger than 256 kb
  * scripts/tcos-bottom/35services:
    - Only start inetd if /etc/inetd.conf exists
  * tcos/tcos.msg tcos/help.msg tcos/help2.msg tcos/default.tpl
    - Update some command line options and add new page F2
  * hooks/tcosmods conf/tcos-generation-functions.sh:
    - Export tcos_manual_add_modules and force_add_module functions in tcos-generation-functions
  * hoos/tcosbin hooks/tcosnfs:
    - Move some common code to new hooks-addons: 00main 00init 90usplash
  * hooks-addons/50xorg:
    - Remove nvidia_drv.so from image (not work, no needed)

 -- Mario Izquierdo (mariodebian) <mariodebian@gmail.com>  Sun, 11 Nov 2007 15:25:48 +0100

initramfs-tools-tcos (0.87.1) unstable; urgency=low

  * scripts/tcos-top/*
    - Add new cmdline force nfs to force mount nfs in host with more TCOS_MIN_RAM
  * debian/*install debian/*manpages:
    - Move update-tcospasswd and tcospasswd to tcos-core package
  * debian/control:
    - Add depends xvnc4viewer|xvncviewer
    - Remove tftpd-hpa depends (force to install atftpd)
  * debian/tcos-standalone.init:
    - Include vars.sh file only if exists (not critical)
  * hooks/tcosnfs:
    - Make some dirs in initramfs before calling other hooks-addons
  * scripts/tcos-top/40make_init:
    - Create again busybox links in NFS init
  * bin/tcos-buildchroot:
    - Link NFS files and dirs in update images (if exists)

 -- Mario Izquierdo (mariodebian) <mariodebian@gmail.com>  Sat, 10 Nov 2007 11:22:05 +0100

initramfs-tools-tcos (0.86.8) unstable; urgency=low

  * hooks/tcosnfs
    - Add 00users 01busybox 02udev2 hooks-addons (ubuntu busybox awk bug)
  * Remove not needed code

 -- Mario Izquierdo (mariodebian) <mariodebian@gmail.com>  Thu, 08 Nov 2007 22:21:45 +0100

initramfs-tools-tcos (0.86.7) unstable; urgency=low

  * Add support to Intel Dot Station (alias Paquito):
    - Add hook-addon and test if modem and graphic card.
    - Force load some optional modules

 -- Mario Izquierdo (mariodebian) <mariodebian@gmail.com>  Thu, 08 Nov 2007 00:06:51 +0100

initramfs-tools-tcos (0.86.6) unstable; urgency=low

  * xmlrpc/vnc.c:
    - Fix typo in IS_STANDALONE condition (not needed)
  * bin/tcos-buildchroot
    - Add EXTRA mirror to Ubuntu (universe and multiverse)
    - Add new tcos-keyring package
    - Remove download key with wget
  * debian/control:
    - Add new package depends tcos-keyring

 -- Mario Izquierdo (mariodebian) <mariodebian@gmail.com>  Tue, 06 Nov 2007 23:20:21 +0100

initramfs-tools-tcos (0.86.5) unstable; urgency=low

  * xmlrpc/sh/tcos-dbus.py:
    - Stop if bad username:passwd string
  * xmlrpc/sh/screenshot.sh
    - export XAUTHORITY in thin client case
  * xmlrpc/Makefile
    - Clean temp *~ files

 -- Mario Izquierdo (mariodebian) <mariodebian@gmail.com>  Fri, 02 Nov 2007 17:05:29 +0100

initramfs-tools-tcos (0.86.4) unstable; urgency=low

  * xmlrpc/exe.c:
    - call daemonize from job_exe
  * Makefile:
    - Install daemonize with 755 not 644
  * xmlrpc/standalone.h:
    - Change STANDALONE_TIME define to work with old and new clients
  * xmlrpc/sh/vnc-controller.sh:
    - Remove abspath and add dbus call to startclient
  * bin/daemonize.sh:
    - Fix remove first arg sed command

 -- Mario Izquierdo (mariodebian) <mariodebian@gmail.com>  Thu, 01 Nov 2007 19:13:00 +0100

initramfs-tools-tcos (0.86.3) unstable; urgency=low

  * xmlrpc/standalone.[ch]
    - New STANDALONE_TIME, to get time logged from standalone host
  * tcos.conf:
    - Disable TCOS_MAX_MEM

 -- Mario Izquierdo (mariodebian) <mariodebian@gmail.com>  Mon, 29 Oct 2007 09:32:05 +0100

initramfs-tools-tcos (0.86.2) unstable; urgency=low

  * Revert (semi) last change who => w:
    - Old versions use column 2, new versions use column 3

 -- Mario Izquierdo (mariodebian) <mariodebian@gmail.com>  Sun, 28 Oct 2007 00:47:25 +0200

initramfs-tools-tcos (0.86.1) unstable; urgency=low

  * Fix some nvidia issues, delete /usr/lib/libGLcore.so (10 Mb)
  * bin/gentcos:
    - Add another method to get packages uri (-instpkg)
  * bin/tcos-buildchroot:
    - Only make links if exists into chroot and not exits outside
    - Call apt with nointeractive frontend
  * hooks-addons/55vnc:
    - Add auth to x11vnc server
  * xmlrpc/*
    - New method tcos.vnc use a new wrapper: vnc-controller.sh
  * Update Debian unstable (2.6.22-3-486) and Ubuntu gutsy (2.6.22-14-generic) kernels
  * bin/daemonize.sh:
    - wrap start-stop-daemon in a simple script

 -- Mario Izquierdo (mariodebian) <mariodebian@gmail.com>  Sat, 27 Oct 2007 23:31:17 +0200

initramfs-tools-tcos (0.85.3) unstable; urgency=low

  * hooks-addons/25tcosmonitor:
    - Create dir before copying png lock image (ups !!!)

 -- Mario Izquierdo (mariodebian) <mariodebian@gmail.com>  Thu, 11 Oct 2007 11:17:28 +0200

initramfs-tools-tcos (0.85.2) unstable; urgency=low

  * Move lockscreen.png to tcos-core package => /usr/share/tcos-core/

 -- Mario Izquierdo (mariodebian) <mariodebian@gmail.com>  Sun, 07 Oct 2007 20:55:12 +0200

initramfs-tools-tcos (0.85.1) unstable; urgency=low

  * xmlrpc/*
    - Adopt new libxmlrpc API (> 1.06) and use conditionals adding methods
    - Move echo, version and status method outside main file
  * debian/initramfs-tools-tcos.[postint|postrm]
    - Remove error with unknow argument
    - Purge tcos-standalone script with || true (thanks Vidal)
  * lockscreen/lockscreen2.c:
    - set environment var XLIB_SKIP_ARGB_VISUALS=1 (force load png image)
  * Split initramfs-tools-tcos package to new tcos-core (bins for tcos images, not server dependencies)
  * bin/set-limits:
    - Set memory limit in some startup scripts (startx tcosxmlrpc...)
  * xmlrpc/xauth.c
    - Be more silent in xauth cookie creation
  * hooks-addons/25tcosmonitor:
    - Move launchers in a new scripts files: scripts/tcos-bottom/56tcosxmlrpc scripts/tcos-bottom/55mount_listener

 -- Mario Izquierdo (mariodebian) <mariodebian@gmail.com>  Sat, 06 Oct 2007 20:12:44 +0200

initramfs-tools-tcos (0.84.7) unstable; urgency=low

  * Fix upgrade scripts

 -- Mario Izquierdo (mariodebian) <mariodebian@gmail.com>  Sun, 30 Sep 2007 12:06:59 +0200

initramfs-tools-tcos (0.84.6) unstable; urgency=low

  * bin/tcos-buildchroot:
    - Add rdesktop as tcos package
  * hooks-addons/25tcosmonitor:
    - Search for /sbin/start-stop-daemon.REAL (cdebootstrap hack)

 -- Mario Izquierdo (mariodebian) <mariodebian@gmail.com>  Sun, 30 Sep 2007 11:44:43 +0200

initramfs-tools-tcos (0.84.5) unstable; urgency=low

  * Remove tcos-server-utils package (now contents are in tcos package)
  * Remove obsolete opengl dir
  * Remove obsolete discover dir
  * Remove obsolete esound dir
  * Remove old dir

 -- Mario Izquierdo (mariodebian) <mariodebian@gmail.com>  Mon, 24 Sep 2007 13:10:18 +0200

initramfs-tools-tcos (0.84.4) unstable; urgency=low

  * Make TCOS_EXTRA_MODULES new var in tcos.conf
  * gentcos:
    - Remove export TCOS_EXTRA_MODULES
    - Fix read -extramodules cmdline to allow more modules

 -- Mario Izquierdo (mariodebian) <mariodebian@gmail.com>  Mon, 24 Sep 2007 13:07:23 +0200

initramfs-tools-tcos (0.84.3) unstable; urgency=low

  * Only depend on mknbi on i386 arch
  * Patch debian/control in Ubuntu dapper with Source-Version

 -- Mario Izquierdo (mariodebian) <mariodebian@gmail.com>  Sat, 22 Sep 2007 21:23:44 +0200

initramfs-tools-tcos (0.84.2) unstable; urgency=low

  * bin/tcos-buildroot:
    - Fix typo in TCOS_CHROOT var
    - Add --gentcos option to build images with other params
  * Update Ubuntu gutsy kernel version
  * debian/control:
    - Replace source:version depends with 0.84.1
    - Fix some descriptions 

 -- Mario Izquierdo (mariodebian) <mariodebian@gmail.com>  Sat, 22 Sep 2007 18:52:55 +0200

initramfs-tools-tcos (0.84.1) unstable; urgency=low

  * Important move of code, some of tcosmonitor stuff move here:
    - udev
    - xmlrpc
    - lockscreen
    - hooks-addons
  * bin/tcos-buidchroot:
    - Script to build a (32bit) chroot to build tcos images

 -- Mario Izquierdo (mariodebian) <mariodebian@gmail.com>  Fri, 21 Sep 2007 23:32:14 +0200

initramfs-tools-tcos (0.83.2) unstable; urgency=low

  * bin/configurexorg, hooks-addons/40etc3800:
    - Support new openchrome driver
  * scripts/tcos-top/20mountnfs:
    - Mount NFS without nfsro (deprecated in new unionfs)
  * scripts/tcos-top/50fstab:
    - Call udevtrigger and udevsettle to create ide/block devices
  * scripts/tcos-premount/25nbd_filesystem:
    - Create only 2 nbd devices and wait for /dev/nbd0

 -- Mario Izquierdo (mariodebian) <mariodebian@gmail.com>  Wed, 19 Sep 2007 22:41:27 +0200

initramfs-tools-tcos (0.83.1) unstable; urgency=low

  * scripts/tcos-bottom/05inittcos, conf/tcos.conf
    - limit MAX_MEM used for thin clients with ulimit (default 95%)
  * Remove PATH definition in all scripts
  * conf/tcos-run-functions.sh:
    - Disable change vt in kill_usplash
  * scripts/tcos-top/50fstab:
    - Add option to force not use swap
    - Replace cut with awk
  * scripts/tcos-bottom/10ldconfig, hooks/tcosbins:
    - Move ldconfig to /usr/sbin
  * bin/gentcos:
    - Fix typo in inst_pkg function
  * hooks-addons/08discover:
    - Move discover /lib files to squashed /usr/lib (less ram)

 -- Mario Izquierdo (mariodebian) <mariodebian@gmail.com>  Fri, 14 Sep 2007 21:32:49 +0200

initramfs-tools-tcos (0.82.11) unstable; urgency=low

  * Add USB/IP experimental support

 -- Mario Izquierdo (mariodebian) <mariodebian@gmail.com>  Wed, 05 Sep 2007 23:06:21 +0200

initramfs-tools-tcos (0.82.10) unstable; urgency=low

  * Update debian unstable kernel version 2.6.22-2-486

 -- Mario Izquierdo (mariodebian) <mariodebian@gmail.com>  Wed, 05 Sep 2007 22:04:44 +0200

initramfs-tools-tcos (0.82.9) unstable; urgency=low

  * bin/gentcos, hooks-addons/50xorg:
    - Add -fix-nvidia-ati option to cache xserver-xorg-core and libgl1-mesa-glx
    - Reorganize bin/gentcos with simpler code
  * bin/tcos-gdm-autologin:
    - Remove wrong licence line (thanks to Quiran to alert me)
  * daemonize/daemon.c, daemonize/Makefile:
    - Make work daemonize with double fork.

 -- Mario Izquierdo (mariodebian) <mariodebian@gmail.com>  Tue, 04 Sep 2007 11:10:17 +0200

initramfs-tools-tcos (0.82.8) unstable; urgency=low

  * Add support for cdaudio (using cdfs + cdparanoia to detect)
  * Update dapper kernel 2.6.15-29-386

 -- Mario Izquierdo (mariodebian) <mariodebian@gmail.com>  Sat, 01 Sep 2007 13:18:30 +0200

initramfs-tools-tcos (0.82.7) unstable; urgency=low

  * bin/get_filesystem:
    - Remove disktype
    - Add fstype (new klibc)
  * Update Ubuntu gutsy kernel version

 -- Mario Izquierdo (mariodebian) <mariodebian@gmail.com>  Fri, 24 Aug 2007 17:59:18 +0200

initramfs-tools-tcos (0.82.6) unstable; urgency=low

  * bin/tcos-gdm-autologin:
    - New option (--noaction) for debug proposes only
    - If DISPLAY contains IP address instead of hostname try to convert using gethostbyaddr
    - If /etc/gd/gdm.conf-custom exists use it.
    - Update man page
  * conf/tcos-run-functions.sh:
    - Kill tryXorg too in kill_xorg()
    - Kill process in background

 -- Mario Izquierdo (mariodebian) <mariodebian@gmail.com>  Tue, 21 Aug 2007 23:10:18 +0200

initramfs-tools-tcos (0.82.5) unstable; urgency=low

  * Add Subversion repository URL to debian/control.
  * bin/gentcos:
    - Ignore errors in ramdisk size

 -- Mario Izquierdo (mariodebian) <mariodebian@gmail.com>  Mon, 20 Aug 2007 18:28:27 +0200

initramfs-tools-tcos (0.82.4) unstable; urgency=low

  * Add support for lp_server (if avalaible)
  * Change Debian etch kernel version to 2.6.18-5-486

 -- Mario Izquierdo (mariodebian) <mariodebian@gmail.com>  Mon, 20 Aug 2007 11:08:59 +0200

initramfs-tools-tcos (0.82.3) unstable; urgency=low

  * Update kernel versions (enable update && security mirrors in pbuilder)

 -- Mario Izquierdo (mariodebian) <mariodebian@gmail.com>  Tue, 07 Aug 2007 13:32:34 +0200

initramfs-tools-tcos (0.82.2) unstable; urgency=low

  * Fix new gentcos test about unionfs|aufs module (crash without awk)
  * Create /sbin/startesd always not only with cached esound

 -- Mario Izquierdo (mariodebian) <mariodebian@gmail.com>  Mon, 30 Jul 2007 23:39:09 +0200

initramfs-tools-tcos (0.82.1) unstable; urgency=low

  * Add printer support TCOS_PRINT
  * Add initial NBD support (don't work fully yet)
  * Add support for using aufs module instead of unionfs
  * mksquashfs go from /usr/sbin to /usr/bin in debian unstable, search for it...
  * Try to put all copyright authors in debian/copyright

 -- Mario Izquierdo (mariodebian) <mariodebian@gmail.com>  Mon, 30 Jul 2007 17:31:24 +0200

initramfs-tools-tcos (0.81.2) unstable; urgency=low

  * Install get_filesystem in initramfs-tools-tcos package

 -- Mario Izquierdo (mariodebian) <mariodebian@gmail.com>  Wed, 27 Jun 2007 22:39:22 +0200

initramfs-tools-tcos (0.81.1) unstable; urgency=low

  * New script get_filesystem wit 3 modes of work:
    - udev vol_id
    - disktype
    - fdisk

 -- Mario Izquierdo (mariodebian) <mariodebian@gmail.com>  Wed, 27 Jun 2007 20:08:17 +0200

initramfs-tools-tcos (0.80.8) unstable; urgency=low

  * conf/tcos-run-functions.sh:
   - change get_filesystem to make modular

 -- Mario Izquierdo (mariodebian) <mariodebian@gmail.com>  Wed, 20 Jun 2007 21:17:19 +0200

initramfs-tools-tcos (0.80.7) unstable; urgency=low

  * hooks-addons/56rdesktop and hooks-addons/21pulseaudio:
    - Fix TCOS_SOUND disable
  * scripts/tcos-top/50fstab:
    - Remove some old code, and mount all in /mnt/$DEVICE
  * conf/tcos-run-functions.sh:
    - If /sbin/mount.ntfs-3g is found return ntfs-3g filesystem
  * daemonize:
    - Wrapper to daemonize a process

 -- Mario Izquierdo (mariodebian) <mariodebian@gmail.com>  Wed, 20 Jun 2007 15:10:38 +0200

initramfs-tools-tcos (0.80.6) unstable; urgency=low

  * User disktype to create a better /etc/fstab
  * conf/tcos-run-functions.sh:
    - Move get_filesystem() to this include
  * scripts/tcos-bottom/05inittcos:
    - Create fstab again with disktype info (disktype is in squashfs)
  * scripts/tcos-top/50fstab:
    - Clean and delete get_filesystem()
  * hooks-addons/18tcos_hdd_installer:
    - Add /usr/bin/disktype

 -- Mario Izquierdo (mariodebian) <mariodebian@gmail.com>  Tue, 19 Jun 2007 12:44:49 +0200

initramfs-tools-tcos (0.80.5) unstable; urgency=low

  * Fix more typos, close ticket #2

 -- Mario Izquierdo (mariodebian) <mariodebian@gmail.com>  Mon, 18 Jun 2007 11:33:25 +0200

initramfs-tools-tcos (0.80.4) unstable; urgency=low

  * bin/tryXorg.sh:
    - Fix typo this => these...
  * conf/xorg-tcos.conf:
    - Remove this obsolete file
  * Add HACKING.en, close ticket #1 (thanks to Andres Jimenez gandresin at gmail)

 -- Mario Izquierdo (mariodebian) <mariodebian@gmail.com>  Fri, 15 Jun 2007 12:45:15 +0200

initramfs-tools-tcos (0.80.3) unstable; urgency=low

  * conf/xorg.conf.tpl:
    - Keyboard driver is kbd not keyboard

 -- Mario Izquierdo (mariodebian) <mariodebian@gmail.com>  Thu, 14 Jun 2007 23:40:17 +0200

initramfs-tools-tcos (0.80.2) unstable; urgency=low

  * bin/tryXorg.sh:
    - Xorg log is Xorg.0.log, not Xorg.log

 -- Mario Izquierdo (mariodebian) <mariodebian@gmail.com>  Wed, 13 Jun 2007 12:32:14 +0200

initramfs-tools-tcos (0.80.1) unstable; urgency=low

  * conf/xorg.conf.tpl:
    - Disable via VBEModes, VBEREstore (not work with last Mesa)
    - Add __xkbmodel__ var (pc104 with us keyboard and pc105 in some cases)
  * debian/control:
    - Remove as hard depends: ltspfsd | ltspfs-client
  * conf/tcos.conf:
    - New var TCOS_XORG_XKBMODEL
  * hooks-addons/40etc3800:
    - Move startup script from 30 to 15 (startx is at 25)
  * bin/configurexorg:
    - Add __xkbmodel__ in sed replace
  * bin/tryXorg.sh:
    - Change tty7 => vt7
    - Use TCOS kbd info in new xorg.conf.auto file
  * hooks-addons/05devices:
    - Enable cache for ltspfsd: gentcos -instpkg ltspfsd
  * common.mk, Makefile:
    - Add Ubuntu gutsy info.

 -- Mario Izquierdo (mariodebian) <mariodebian@gmail.com>  Tue, 12 Jun 2007 20:46:14 +0200

initramfs-tools-tcos (0.79.11) unstable; urgency=low

  * debian/tcos-usplash.postinst:
    - Change priority from 30 to 5 to not overwrite ubuntu default usplash theme
  * hooks-addons/03udev2:
    - Copy some more files to make work SATA cdrom.

 -- Mario Izquierdo (mariodebian) <mariodebian@gmail.com>  Tue, 12 Jun 2007 12:16:36 +0200

initramfs-tools-tcos (0.79.10) unstable; urgency=low

  * conf/tcos.conf:
    - Remove TCOS_VERSION => /etc/tcos/version.conf

 -- Mario Izquierdo (mariodebian) <mariodebian@gmail.com>  Fri, 08 Jun 2007 23:47:14 +0200

initramfs-tools-tcos (0.79.9) unstable; urgency=low

  * URGENT: Remove «set -e» ini initramfs-tools-tcos.postinst, 
    because break if grep exit with errors

 -- Mario Izquierdo (mariodebian) <mariodebian@gmail.com>  Fri, 08 Jun 2007 23:23:58 +0200

initramfs-tools-tcos (0.79.8) unstable; urgency=low

  * Move TCOS_VERSION and TCOS_DISTRO to version.conf
    (avoid to update tcos.conf in every package update)
  * Fix some cat commands in postinst

 -- Mario Izquierdo (mariodebian) <mariodebian@gmail.com>  Fri, 08 Jun 2007 22:47:30 +0200

initramfs-tools-tcos (0.79.7) unstable; urgency=low

  * bin/tryXorg.sh:
    - Start Xorg at tty7 to avoid getty keyboards conflicts

 -- Mario Izquierdo (mariodebian) <mariodebian@gmail.com>  Tue, 05 Jun 2007 14:32:53 +0200

initramfs-tools-tcos (0.79.6) unstable; urgency=low

  * Use debian ltspfs and ltspfsd packages

 -- Mario Izquierdo (mariodebian) <mariodebian@gmail.com>  Mon, 04 Jun 2007 14:35:46 +0200

initramfs-tools-tcos (0.79.5) unstable; urgency=low

  * hooks-addons/21pulseaudio:
    - Create symlink of libpulsecore.so.0.3 to so.0.2
  * Change in all files default Homepage to http://www.tcosproject.org
  * Change /tftpboot dir in doc files to /var/lib/tcos/tftp

 -- Mario Izquierdo (mariodebian) <mariodebian@gmail.com>  Sun, 03 Jun 2007 23:27:41 +0200

initramfs-tools-tcos (0.79.4) unstable; urgency=low

  * scripts/tcos-top/50fstab:
    - Add /dev/pts to /etc/fstab and mount it (dropbear need it for kernel 2.6.20).
  * conf/82export_pulseaudio:
    - Remove xmodmap keymap hack

 -- Mario Izquierdo (mariodebian) <mariodebian@gmail.com>  Fri, 01 Jun 2007 12:54:39 +0200

initramfs-tools-tcos (0.79.3) unstable; urgency=low

  * common.mk:
    - Set default kernel in debian unstable to 2.6.21-1-486
    - Update Ubuntu feisty kernel to 2.6.20-16-generic
  * Makefile:
    - Add patch targets
  * debian/copyright:
    - Add more info
  * hooks-addons/59freenx:
    - Warn about missing depends of libstdc++2.10-glibc2.2 package

 -- Mario Izquierdo (mariodebian) <mariodebian@gmail.com>  Thu, 31 May 2007 19:40:25 +0200

initramfs-tools-tcos (0.79.2) unstable; urgency=high

  * hooks-addons/03udev2:
    - Important bugfix 

 -- Mario Izquierdo (mariodebian) <mariodebian@gmail.com>  Mon, 28 May 2007 17:39:47 +0200

initramfs-tools-tcos (0.79.1) unstable; urgency=low

  * hooks-addons/03udev2:
    - Fix typo in logger.agent script
  * Makefile:
    - Copy parsed tcos.conf in TCOS_DIR
  * Add support for reportbug
  * Change HomePage to http://www.tcosproject.org

 -- Mario Izquierdo (mariodebian) <mariodebian@gmail.com>  Mon, 28 May 2007 16:36:23 +0200

initramfs-tools-tcos (0.79) unstable; urgency=low

  * hooks-addons/50xorg:
    - Fix XKB path
    - Remove symlinks (xfree86 and xorg)
  * scripts/tcos-bottom/10ldconfig:
    - Generate removed symlinks
  * usplash/Makefile:
    - More simple file
  * usplash/0.3/usplash-tcos.png, usplash/0.2/usplash-artwork.png:
    - New theme
  * scripts/tcos-bottom/10ldconfig:
    - Create some needed symlinks

 -- Mario Izquierdo (mariodebian) <mariodebian@gmail.com>  Sun, 27 May 2007 21:12:49 +0200

initramfs-tools-tcos (0.78) unstable; urgency=low

  * Delete hooks-addons/41_snd_cs4236 (not needed)
  * conf/82export_pulseaudio:
    - Export PulseAudio environment var and load kbmap (Spanish yet)
  * tcos/logo.lss:
    - new pxe splash logo based on new usplash
  * hooks-addons/50xorg:
    - Working keymap !!!!!!
  * scripts/tcos-bottom/25startx:
    - Move startx to medium start (start in 5 seconds less)
  * conf/tcos-run-functions.sh:
    - Use busybox syslogd and logger to save log messages => /var/log/messages
  * scripts/tcos-bottom/05inittcos:
    - Move some code to scripts/tcos-bottom/35services

 -- Mario Izquierdo (mariodebian) <mariodebian@gmail.com>  Sun, 27 May 2007 00:33:29 +0200

initramfs-tools-tcos (0.77a) unstable; urgency=low

  * Fix XKB dir in ubuntu edgy, dapper => /etc/X11/xkb
  * hooks-addons/41_snd_cs4236:
    - Add special support for Crystal Sound
  * scripts/tcos-bottom/40initsound:
    - Unmute 'Master Digital' and set to TCOS_VOLUME
  * Add experimental to common.mk defaults

 -- Mario Izquierdo (mariodebian) <mariodebian@gmail.com>  Wed, 23 May 2007 17:09:37 +0200

initramfs-tools-tcos (0.77) unstable; urgency=low

  * Add mii-tool to check what network interface have link
  * Add support for different servers (xdmcp-server, font-server, rdesktop-server, etc...)
  * Try to add xkbmap support (working on it)
  * Fix usplash change TCOS_USPLASH not work
  * Add new and beutifull usplash theme (called 0.4.1) based on usplash-theme-debian sources
  * New build dependencies: imagemagick and librsvg2-bin

 -- Mario Izquierdo (mariodebian) <mariodebian@gmail.com>  Fri, 18 May 2007 21:38:24 +0200

initramfs-tools-tcos (0.76) unstable; urgency=low

  * Remove all dpkg calls

 -- Mario Izquierdo (mariodebian) <mariodebian@gmail.com>  Fri, 04 May 2007 22:55:33 +0200

initramfs-tools-tcos (0.75) unstable; urgency=low

  * bin/tryXorg.sh:
    - new method for launching Xorg (3 times in normal mode and -configure
      if fails.
  * bin/installer.sh:
    - Mount swap after parts creation
    - Add option --oeminstall to part and install syslinux unattended
  * hooks-addons/03wireless:
    - Add support of Zydas (zd1211) in wireless hook
  * -

 -- Mario Izquierdo (mariodebian) <mariodebian@gmail.com>  Fri, 04 May 2007 22:55:31 +0200

initramfs-tools-tcos (0.74) unstable; urgency=low

  * Fix conf/tcos.conf kernel double "
  * Set usplash version with distro version
  * Delete usplash/test.sh
  * bin/gentcos:
    - Fix duplicate entries in cache package read uris
  * Set new var TCOS_USPLASH to allow change default thin client usplash theme
  * Backport new manual_add_modules to tcos_manual_add_modules (dapper have debian bug yet)
  * Add more recomends packages.
  * bin/configurexorg:
    -  parse error in xdriver ( use getsimple with #VARNAME= )
  * bin/installer.sh:
    - make mem test before installing syslinux (NFS need less ramdisk)
  * debian/control:
    - fix typo in tcos Recommends
  * Remove discover hard dependency
  * Add pulseaudio, aumix, busybox to tcos metapackage dependencies
  * Update dapper kernel to 2.6.15-28-386
  * hooks-addons/99tcos Makefile:
    - remove dpkg -l call and write TCOS_VERSION during package build => Makefile
  * hooks-addons/50xorg:
    - If Xorg don't start after 3 atemps, try to autoconfigure 
      with Xorg -configure and generate /etc/X11/xorg.conf.auto

 -- Mario Izquierdo (mariodebian) <mariodebian@gmail.com>  Sun, 29 Apr 2007 00:02:45 +0200

initramfs-tools-tcos (0.73) unstable; urgency=low

  * usplash:
    - Make usplash from dapper work (pngtobogl must be compiled from sources)
  * scripts/tcos-premount/35sqmount:
    - Ubuntu feisty udev (or 2.6.20 kernel) don't create loop devices and need to wait
  * Put in tcos.conf default distro kernel (during install check for version, see common.mk)

 -- Mario Izquierdo (mariodebian) <mariodebian@gmail.com>  Sat, 21 Apr 2007 21:19:38 +0200

initramfs-tools-tcos (0.72) unstable; urgency=low

  * hooks/tcosbin:
    - Try to remove all stuff in /lib/i686 in similar way than /lib/tls
  * conf/tcos-generation-functions.sh:
    - convert_links2files acepts one argument (dir where conversion is done)
  * Add serial modules (serial mouse needs it !! )

 -- Mario Izquierdo (mariodebian) <mariodebian@gmail.com>  Sat, 21 Apr 2007 14:02:11 +0200

initramfs-tools-tcos (0.71) unstable; urgency=low

  * hooks/tcosbin:
    - add absolute path of mksquashfs bin.
    - hide hack load info
  * In debian unstable start thin client with vga=791 (usplash at 640x480 not work)
  * Not load pcspkr module
  * Depends on libusplash-dev (only valid with new usplash package)
  * bin/tcos-gdm-autologin:
    - Fix username : displayname compare in /etc/passwd
  * debian/rules:
    - Fix typo in version detect.

 -- Mario Izquierdo (mariodebian) <mariodebian@gmail.com>  Wed, 18 Apr 2007 10:44:18 +0200

initramfs-tools-tcos (0.70) unstable; urgency=low

  * Extends ConfigObj class to use '=' instead of ' = '
  * Don't copy /lib/dhcp3-client/call-dhclient-script
  * Use discover from TCOS cache (for dapper)
  * Better gentcos.postinst (work with inetd.conf, atftpd, tftpd-hpa)

 -- Mario Izquierdo (mariodebian) <mariodebian@gmail.com>  Tue, 03 Apr 2007 14:50:05 +0200

initramfs-tools-tcos (0.69) unstable; urgency=low

  * Remove old debian/*lintian* files
  * Move allmodules-x.x.x.squashfs to TFTP_DIR instead of /tftpboot/tcos

 -- Mario Izquierdo (mariodebian) <mariodebian@gmail.com>  Tue, 27 Mar 2007 10:06:48 +0200

initramfs-tools-tcos (0.68) unstable; urgency=low

  * bin/tcos-gdm-autologin:
    - Fix typo chowm => chown
    - Add fromip var to make a network not starting in number 1
    - Add --nodelete option to not work in kiosk mode.
  * hooks/tcosbin and hooks-addons/*:
    - move some code to hooks-addons
  * Change depends, move to tcos metapackage.
  * Change Makefiles to allow not building tcos-usplash (HAVE_USPLASH=0)
  * More debug info in configurexorg with --verbose flag
  * Fix some typo in conf/xorg.conf.tpl

 -- Mario Izquierdo (mariodebian) <mariodebian@gmail.com>  Tue, 20 Mar 2007 11:27:46 +0100

initramfs-tools-tcos (0.67) unstable; urgency=low

  * gentcos depends atftpd | tftpd-hpa and dhcp3-server
  * hooks-addons/*xorg:
    - fix Xorg path search
  * Do some job in freenx support ( gentcos::README.freenx)
  * Make an special computer hook (EPATEC eTC3800 force load via driver)
  * Add acpi button daemon event.

 -- Mario Izquierdo (mariodebian) <mariodebian@gmail.com>  Sun, 11 Mar 2007 17:20:24 +0100

initramfs-tools-tcos (0.66) unstable; urgency=low

  * Add 600 file rights to tcos.conf

 -- Mario Izquierdo (mariodebian) <mariodebian@gmail.com>  Wed,  7 Mar 2007 19:22:23 +0100

initramfs-tools-tcos (0.65) unstable; urgency=low

  * scripts/tcos-premount/35sqmount:
    - Add autodetect support for booting from HD or USB device
      (mount all ext3 or vfat partitions and search usr.squashfs or usr-$(uname -r).squashfs)
  * Update tcos kernel version to 2.6.18-4-486 (debian testing and unstable)
  * Fix some info and warning messages in gentcos.postinst

 -- Mario Izquierdo (mariodebian) <mariodebian@gmail.com>  Tue,  6 Mar 2007 22:21:59 +0100

initramfs-tools-tcos (0.64) unstable; urgency=low

  * Fix 40initsound OSS broken detection
  * Copy libesd0 (OSS) always if avalaible from cache
  * Use cached pulseaudio-esound-compat files
  * Add README.cache to gentcos docs

 -- Mario Izquierdo (mariodebian) <mariodebian@gmail.com>  Sat,  3 Mar 2007 16:07:40 +0100

initramfs-tools-tcos (0.63) unstable; urgency=low

  * Fix esound start in OSS compability PulseAudio -> eSound -> OSS
  * Know to not work (PulseAudio bug ???) PulseAudio -> OSS (/dev/dsp without /proc/asound)

 -- Mario Izquierdo (mariodebian) <mariodebian@gmail.com>  Mon, 26 Feb 2007 21:39:47 +0100

initramfs-tools-tcos (0.62) unstable; urgency=low

  * Add cache support to gentcos, used to use some non installed packages (esound, libesd0..)
  * Rename all hooks-addons with numbers (exec order)

 -- Mario Izquierdo (mariodebian) <mariodebian@gmail.com>  Sat, 24 Feb 2007 13:32:20 +0100

initramfs-tools-tcos (0.61) unstable; urgency=low

  * Change /opt/tcos with /var/lib/tcos (debian correct)
  * Remove debconf message
  * Not build tcos-discover2 tcos-opengl-libs tcos-esound anymore (no clean, not debian)
  * Change /tftpboot/tcos with /var/lib/tcos/tftp and link it
  * Add UPGRADE.debian info to gentcos package
  * bin/gentcos:
     - Fix initramfs name in isolunux cdrom generation

 -- Mario Izquierdo (mariodebian) <mariodebian@gmail.com>  Tue, 20 Feb 2007 11:39:47 +0100

initramfs-tools-tcos (0.60.7) unstable; urgency=low

  * New package tcos-esound (esd and libesd0)

 -- Mario Izquierdo (mariodebian) <mariodebian@gmail.com>  Sun, 18 Feb 2007 00:09:52 +0100

initramfs-tools-tcos (0.60.6) unstable; urgency=low

  * Add support for rdesktop (tested with Windows BadVista / MalaVista)
  * Loop some core functions (Xorg, rdesktop...)

 -- Mario Izquierdo (mariodebian) <mariodebian@gmail.com>  Tue, 13 Feb 2007 09:11:19 +0100

initramfs-tools-tcos (0.60.5) unstable; urgency=low

  * hooks-addons/rungetty:
    - Exec getty in a while [1] loop.

 -- Mario Izquierdo (mariodebian) <mariodebian@gmail.com>  Fri,  9 Feb 2007 13:50:33 +0100

initramfs-tools-tcos (0.60.4) unstable; urgency=low

  * bin/seq:
     - Complete seq shell script, now accepts same params like /usr/bin/seq
         seq LAST
         seq FIRST LAST
         seq FIRST INCREMENT LAST

 -- Mario Izquierdo (mariodebian) <mariodebian@gmail.com>  Thu,  8 Feb 2007 18:53:33 +0100

initramfs-tools-tcos (0.60.3) unstable; urgency=low

  * conf/xorg.conf.tpl:
    - Add serial mouse support

 -- Mario Izquierdo (mariodebian) <mariodebian@gmail.com>  Thu,  8 Feb 2007 11:25:29 +0100

initramfs-tools-tcos (0.60.2) unstable; urgency=low

  * bin/gentcos:
     - Clean initramfs unwanted files after mkinitramfs
  * ALL:
     - reduce required RAM (min now is 24 Mb, probably need swap)

 -- Mario Izquierdo (mariodebian) <mariodebian@gmail.com>  Tue,  6 Feb 2007 19:26:15 +0100

initramfs-tools-tcos (0.60.1) unstable; urgency=low

  * Remove PREREQS in init scripts (scripts have numbers, should start in order...)
  * hex2ascii:
    - move this build dir and bin to this package
  * scripts/tcos-bottom/80shell:
    - more elegant shells (getty) num of ttys defined in tcos.conf

 -- Mario Izquierdo (mariodebian) <mariodebian@gmail.com>  Sat,  3 Feb 2007 22:07:59 +0100

initramfs-tools-tcos (0.59.1) unstable; urgency=low

  * Fix some bashism (== /bin/sh), I hope that ubuntu will work OK now.

 -- Mario Izquierdo (mariodebian) <mariodebian@gmail.com>  Mon, 29 Jan 2007 14:02:45 +0100

initramfs-tools-tcos (0.58.2) unstable; urgency=low

  * Change usplash_timeout script

 -- Mario Izquierdo (mariodebian) <mariodebian@gmail.com>  Sun, 21 Jan 2007 16:15:21 +0100

initramfs-tools-tcos (0.58.1) unstable; urgency=low

  * Add ubuntu-tcos splash theme (debian don't work in new usplash version)
  * Delete "quiet" in all boot args for ubuntu.

 -- Mario Izquierdo (mariodebian) <mariodebian@gmail.com>  Sun, 21 Jan 2007 13:49:20 +0100

initramfs-tools-tcos (0.57.2) unstable; urgency=low

  * Add wireless boot support (hooks-addons/wireless scripts/tcos-top/05network):
    - TCOS_WIRELESS_MODS="list of kernel modules" (madwifi alias of atheros)
    - TCOS_WIRELESS_ENC="type" (WEP, WPA, empty) WPA work, WEP need some job...
  * Change interpeter (bin/gentcos) /bin/sh to /bin/bash (fix problem in ubuntu with dash)
  * Remove unsused Xorg dirs (hooks-addons/xorg)
  * Add TCOS_INSTALLER_BOOT_OPT to change installer cmdline extra options.

 -- Mario Izquierdo (mariodebian) <mariodebian@gmail.com>  Sat, 13 Jan 2007 11:02:19 +0100

initramfs-tools-tcos (0.57.1) unstable; urgency=low

  * usplashize installer.sh
  * Move installer launcher before startx script
  * Add installer update to pxelinux.cfg
  * Add bigger usplash timeout before udev (need some testing)

 -- Mario Izquierdo (mariodebian) <mariodebian@gmail.com>  Tue, 26 Dec 2006 23:33:39 +0100

initramfs-tools-tcos (0.56.18+1) unstable; urgency=low

  * hooks-addons/xorg:
    - fix space in if conditional
    - fix "! -d /var" => "-d /usr" in opengl conditional
    - delete libglx.so (only needed by nvidia & ati drivers)
  * Fix minor typo in hooks-addons/xorg

 -- Mario Izquierdo (mariodebian) <mariodebian@gmail.com>  Sun, 17 Dec 2006 15:51:45 +0100

initramfs-tools-tcos (0.56.17) unstable; urgency=low

  * New package: tcos-opengl-libs (force free opengl drivers)
     - libGL.so.1.2
     - libGLU.so.1.*
     - libGLcore.so
     Ati (fglrx) and Nvidia drivers don't work on thin client.
  * Fix hooks-addons/xorg to use new files of new package (tcos-opengl-libs)
    Must work if packages are created in same Xorg version that server runs.

 -- Mario Izquierdo (mariodebian) <mariodebian@gmail.com>  Sun, 10 Dec 2006 17:00:19 +0100

initramfs-tools-tcos (0.56.16) unstable; urgency=low

  * Enable by default OpenGL support, now screensaver and gcompris must work.
  * Add message when OpenGL is enabled or disabled.

 -- Mario Izquierdo (mariodebian) <mariodebian@gmail.com>  Sun, 10 Dec 2006 14:16:06 +0100

initramfs-tools-tcos (0.56.15) unstable; urgency=low

  * bin/tcos-gdm-autologin: Umount all fuse devices before restoring template.

 -- Mario Izquierdo (mariodebian) <mariodebian@gmail.com>  Mon,  4 Dec 2006 10:46:26 +0100

initramfs-tools-tcos (0.56.14) unstable; urgency=low

  * FIX tcos-gdm-autologin AddHost() loop ;)

 -- Mario Izquierdo (mariodebian) <mariodebian@gmail.com>  Wed, 29 Nov 2006 18:41:19 +0100

initramfs-tools-tcos (0.56.13) unstable; urgency=low

  * Fix LC_ALL=C in tcos image date. 

 -- Mario Izquierdo (mariodebian) <mariodebian@gmail.com>  Wed, 29 Nov 2006 18:14:49 +0100

initramfs-tools-tcos (0.56.12) unstable; urgency=low

  * Fix some errors in tcos-gdm-autologin and enable execmd() function

 -- Mario Izquierdo (mariodebian) <mariodebian@gmail.com>  Tue, 28 Nov 2006 15:19:38 +0100

initramfs-tools-tcos (0.56.11) unstable; urgency=low

  * hooks-addons/xorg
      - add Xorg OpenGL support (new tcos.conf var TCOS_XORG_OPENGL)

 -- Mario Izquierdo (mariodebian) <mariodebian@gmail.com>  Fri, 24 Nov 2006 09:28:12 +0100

initramfs-tools-tcos (0.56.10) unstable; urgency=low

  * Revert vga=771 patch, initramfs-tools revert mknod /dev/fb0 too...
  * Add tcos-gdm-autologin script (need man page)
  * Installer:
     add update method to download files again, but no make parts.
     add PROMPT 1 in syslinux.cfg and change TIMEOUT to 50 (5 segs)
  * New rewrite of tcos-gdm-autologin (python based)
    With tcos-gdm-autologin you can:
    - configure GDM ( --configure option )
    - add users and host ( --add interactive option )
    - gdm autologin (it's called from GDM to return username and restore home from template)
  * Add python-configobj to tcos-server-utils depends.

 -- Mario Izquierdo (mariodebian) <mariodebian@gmail.com>  Sun, 19 Nov 2006 20:13:24 +0100

initramfs-tools-tcos (0.56.9) unstable; urgency=low

  * Fix hooks-addons/dhclient dhclient3 path of script
  * Make package with common.mk

 -- Mario Izquierdo (mariodebian) <mariodebian@gmail.com>  Thu, 16 Nov 2006 22:05:35 +0100

initramfs-tools-tcos (0.56.8) unstable; urgency=low

  * join tcos-nfs startup with normal tcos
  * autodetect ram < 38 and boot from NFS
  * fix hooks-addons/alsa amixer path
  * move fstab from tcos-premount to tcos-top
  * pxelinux.cfg/default add vga=771 to force vesa framebuffer start

 -- Mario Izquierdo (mariodebian) <mariodebian@gmail.com>  Wed,  8 Nov 2006 22:02:13 +0100

initramfs-tools-tcos (0.56.7) unstable; urgency=low

  * Don't use pathof() in hooks, call cpifexists() with abs path.
    If not found search with pathof()

 -- Mario Izquierdo (mariodebian) <mariodebian@gmail.com>  Sun, 29 Oct 2006 22:24:01 +0100

initramfs-tools-tcos (0.56.6) unstable; urgency=low

  * Add tcos metapackage.

 -- Mario Izquierdo (mariodebian) <mariodebian@gmail.com>  Fri, 13 Oct 2006 12:09:31 +0200

initramfs-tools-tcos (0.56.5) unstable; urgency=low

  * Fix more minor things in pulseaudio hook-addon

 -- Mario Izquierdo (mariodebian) <mariodebian@gmail.com>  Fri, 13 Oct 2006 00:05:44 +0200

initramfs-tools-tcos (0.56.4) unstable; urgency=low

  * Possibly ubuntu dapper now work.
  * Support for dhcp3-client (configure network with ifconfig and route)

 -- Mario Izquierdo (mariodebian) <mariodebian@gmail.com>  Sun,  8 Oct 2006 20:30:53 +0200

initramfs-tools-tcos (0.56.3) unstable; urgency=low

  * Provide manual_add_modules (ubuntu dapper initramfs-tools is very old)

 -- Mario Izquierdo (mariodebian) <mariodebian@gmail.com>  Sun,  8 Oct 2006 11:12:49 +0200

initramfs-tools-tcos (0.56.2) unstable; urgency=low

  * Error in conf/tcos-run-functions while need do not then :$

 -- Mario Izquierdo (mariodebian) <mariodebian@gmail.com>  Sat,  7 Oct 2006 15:52:34 +0200

initramfs-tools-tcos (0.56.1) unstable; urgency=low

  * New stable release.

 -- Mario Izquierdo (mariodebian) <mariodebian@gmail.com>  Fri,  6 Oct 2006 09:37:40 +0200

initramfs-tools-tcos (0.55.3) unstable; urgency=low

  * Add tcos-discover2 package (all discover2 files into /usr/lib/tcos/discover)

 -- Mario Izquierdo (mariodebian) <mariodebian@gmail.com>  Mon,  2 Oct 2006 18:27:56 +0200

initramfs-tools-tcos (0.55.2) unstable; urgency=low

  * Ubuntu part2, use /bin/busybox (not static) but with more utils
  * New scripts/tcos-top/01busybox that make symlinks of utils with new busybox

 -- Mario Izquierdo (mariodebian) <mariodebian@gmail.com>  Fri, 29 Sep 2006 12:45:05 +0200

initramfs-tools-tcos (0.55.1) unstable; urgency=low

  * Try to work with ubuntu, part1. More work needed....

 -- Mario Izquierdo (mariodebian) <mariodebian@gmail.com>  Fri, 29 Sep 2006 11:18:01 +0200

initramfs-tools-tcos (0.54.9) unstable; urgency=low

  * Use /usr/lib/tcos to put scripts and bins ==> $TCOS_BINS
  * Add install-system.sh script with cfdisk and debootstrap
    This install a debian/ubuntu distro in thin client.

 -- Mario Izquierdo (mariodebian) <mariodebian@gmail.com>  Thu, 28 Sep 2006 11:16:47 +0200

initramfs-tools-tcos (0.54.8) unstable; urgency=low

  * Minor bugs in some scripts (pulseaudio, alsa...)
  * Add support for ISA sound cards (TCOS_SOUND_ISA new var in tcos.conf)
  * Use mcookie to create xauth cookies and start Xorg with -auth /root/.Xauthority
  * Fix /etc/hosts creation, hostname is ip not 127.0.0.1
  * Disable creation of /etc/X0.hosts, Xorg auth is with cookies

 -- Mario Izquierdo (mariodebian) <mariodebian@gmail.com>  Sun, 24 Sep 2006 22:44:51 +0200

initramfs-tools-tcos (0.54.7) unstable; urgency=low

  * Work in bin/configurexorg, now autodetects xdriver with discover, can detect more things...
  * Add new var TCOS_XORG_ALLDRIVERS to copy all X drivers into image (usr.squashfs)
  * Remove "-ac" flag to Xorg startup, now access is disabled to all
    except localhost or 127.0.0.1. To allow more host to connect edit tcos.conf and add them
    to TCOS_XORG_XHOSTS separeted with spaces. Need localhost for lockscreen and scrot commands.
    During boot new file will be created /etc/X0.hosts listing allowed hosts (man Xserver)
  * Add TCOS_XORG_OPTS var to allow put some Xorg params from conf file.
  * ltspfsd now works with auth (remove -a param)
  * configurexorg seems to work fine with new auto setup ==> tcospersonalize
  * Add more sleep time to pax11publish

 -- Mario Izquierdo (mariodebian) <mariodebian@gmail.com>  Fri, 22 Sep 2006 13:54:43 +0200

initramfs-tools-tcos (0.54.6) unstable; urgency=low

  * Copy /lib/terminfo/x/xterm (needed if use ssh + iftop)
  * Fix build of floppy boot images (gentcos -nbi)
  * Add mkfs in debug hook-addon (to format disks or floppies)
  * Copy some udev files from /lib/udev (write_net_rules crash startup eth0=>eth2)
  * Make autofs support optional
  * Fix some alsa startup scripts
  * Fix TCOS_EXTRA_MODULES, now works like a charm...
  * Add more modules to conf/tcos-modules.conf (intel audio, realtek...)

 -- Mario Izquierdo (mariodebian) <mariodebian@gmail.com>  Wed, 20 Sep 2006 22:04:41 +0200

initramfs-tools-tcos (0.54.5) unstable; urgency=low

  * Fix minor bug in detection of sound devices
    (scripts/tcos-bottom/40initsound)

 -- Mario Izquierdo (mariodebian) <mariodebian@gmail.com>  Wed, 13 Sep 2006 19:56:01 +0200

initramfs-tools-tcos (0.54.4) unstable; urgency=low

  * Add some options to NFS mount

 -- Mario Izquierdo (mariodebian) <mariodebian@gmail.com>  Mon, 11 Sep 2006 21:56:38 +0200

initramfs-tools-tcos (0.54.3) unstable; urgency=low

  * Add hex2ascii to nfs build.

 -- Mario Izquierdo (mariodebian) <mariodebian@gmail.com>  Mon, 11 Sep 2006 21:53:33 +0200

initramfs-tools-tcos (0.54.2) unstable; urgency=low

  * Forgot file hooks-addons/clean_nfs_image FIXED !!!
  * Disable some debug messages

 -- Mario Izquierdo (mariodebian) <mariodebian@gmail.com>  Sun, 10 Sep 2006 13:09:19 +0200

initramfs-tools-tcos (0.54.1) unstable; urgency=low

  * Make powerfull NFS support (TCOS boot in 28 Mb RAM!!!)
  * Make work change passwd (need /etc/login.defs and no locks)
  * Reorganize scripts/tcos-bottom (it's used by normal and nfs tcos)
  * Make a /tftpboot/tcos/pxeslinux.cfg/default with more examples
  * A lot of bin/gentcos work:
     - gentcos -tftp (no changes)
     - gentcos -nfs (generate a small initramfs and mount a remmote NFS)
     - gentcos -rootfs (generate NFS dir /opt/tcos/fs-${TCOS_KERNEL} )
        ( need this line in /etc/exports, and a nfs server: )
        /opt/tcos  192.168.0.0/255.255.255.0(ro,no_root_squash,sync,no_subtree_check)
  * Better way to generate nfs image and filesystem is:
       # gentcos -nfs -rootfs
  * Fix PulseAudio startup params, and start silently log > /var/log/pulseaudio.log
  * Update gentcos man page
  * Change editing initramfs.conf in gentcos for exporting some env vars
    (need sync with TcosConfig)

 -- Mario Izquierdo (mariodebian) <mariodebian@gmail.com>  Sun, 10 Sep 2006 10:02:58 +0200

initramfs-tools-tcos (0.53.pre6) unstable; urgency=low

  * Fix some paths.
  * Detect sound device as /dev/dsp or /dev/snd

 -- Mario Izquierdo (mariodebian) <mariodebian@gmail.com>  Thu,  7 Sep 2006 10:38:18 +0200

initramfs-tools-tcos (0.53.pre5) unstable; urgency=low

  * Fix convert_files2links() function in conf/tcos-generation-functions.sh
     - If app isn't in path can't copy, use readlink instead of pathof
  * Use initramfs-${SUFFIX}-${KERNEL_VERSION}, for support multiple kernel
  * Change pxelinux.cfg/default to initramfs-2.6.16-1-486
  * Add all build vars in /etc/tcos/tcos.conf
  * Fix bin/gentcos to use /etc/tcos/tcos.conf new vars
  * Use hex2ascii tcosmonitor hack to retrieve hostname in a string in dhcp dinamic servers

 -- Mario Izquierdo (mariodebian) <mariodebian@gmail.com>  Tue,  5 Sep 2006 23:11:41 +0200

initramfs-tools-tcos (0.53.pre4) unstable; urgency=low

  * Upload last changes to svn

 -- Mario Izquierdo (mariodebian) <mariodebian@gmail.com>  Sun,  3 Sep 2006 20:20:55 +0200

initramfs-tools-tcos (0.53.pre3) unstable; urgency=low

  * Change /etc/tcos for /usr/share/initramfs-tools-tcos/ for hooks and scripts
  * Start NFS support and complety rootfs

 -- Mario Izquierdo (mariodebian) <mariodebian@gmail.com>  Fri,  1 Sep 2006 19:52:03 +0200

initramfs-tools-tcos (0.53.pre2) unstable; urgency=low

  * Initial PulseAudio support, new var TCOS_PULSEAUDIO
  * Delete obsolete TCOS_XMLRPC username and pass.

 -- Mario Izquierdo (mariodebian) <mariodebian@gmail.com>  Thu, 24 Aug 2006 19:45:16 +0200

initramfs-tools-tcos (0.52) unstable; urgency=low

  * Add destripar_initramfs.sh script (mount initramfs and chroot into it) .
  * Fix /lib/lsb dir creation (hooks/tcosbin)
  * Delete in postinst: /etc/tcos/scripts/tcos-bottom/40freespace
  * Fix some scripts/tcos-bottom/10initsound
  * Move mount_unionfs into conf/tcos-run-functions
  * Add check_module before manual_add_modules because some files not copied
     - see debian bug: #384043
  * Rename allmodules.squashfs to allmodules-$(uname -r).squashfs
  * Add some remove stuff in postinst, to clean /etc/tcos dir
  * Add force_add_module #384043, and remove check_module

 -- Mario Izquierdo (mariodebian) <mariodebian@gmail.com>  Mon, 21 Aug 2006 22:06:14 +0200

initramfs-tools-tcos (0.51) unstable; urgency=low

  * Remove some FIXME code
  * usplash-tcos.so is in svn repos while there is a easy way to compile it (based on debian-edu)
  * Remove some extra functions in tcos-*-functions

 -- Mario Izquierdo (mariodebian) <mariodebian@gmail.com>  Wed, 16 Aug 2006 16:14:44 +0200

initramfs-tools-tcos (0.50) unstable; urgency=low

  * Add usplash artwork (tcos-usplash) usplash is now in debian unstable.

 -- Mario Izquierdo (mariodebian) <mariodebian@gmail.com>  Mon,  7 Aug 2006 15:50:19 +0200

initramfs-tools-tcos (0.49) unstable; urgency=low

  * New stable release
  * conf/tcos-functions is deprecated, split in two files:
     - tcos-run-functions used in thin client
     - tcos-generation-functions used by gentcos
  * Disable fstab generation if uselocal is not set
  * Do some actions in background & (better timming 15 seconds with usr.squashfs download)
  * Resync with TcosMonitor 0.0.10.b3

 -- Mario Izquierdo (mariodebian) <mariodebian@gmail.com>  Sat, 15 Jul 2006 22:29:09 +0200

initramfs-tools-tcos (0.48.b4) unstable; urgency=low

  * Launch session in background ( & )
  * Disable tcos-bootom/25freespace
  * Delete old stuff (20ltspfs)

 -- Mario Izquierdo (mariodebian) <mariodebian@gmail.com>  Mon, 10 Jul 2006 12:51:45 +0200

initramfs-tools-tcos (0.48.b3) unstable; urgency=low

  * Minor changes in bin/configurexorg

 -- Mario Izquierdo (mariodebian) <mariodebian@gmail.com>  Mon, 10 Jul 2006 11:17:53 +0200

initramfs-tools-tcos (0.48.b2) unstable; urgency=low

  * Minor changes in bin/configurexorg

 -- Mario Izquierdo (mariodebian) <mariodebian@gmail.com>  Fri,  7 Jul 2006 16:54:32 +0200

initramfs-tools-tcos (0.48.b1) unstable; urgency=low

  * New release
  * Add configurexorg wrapper and xorg.conf.tpl
  * Add restartxorg script (exec from TcosMonitor)
  * Disable freespace (need some work)
  * Change dependencies >= 0.48
  * Now depends in dropbear (not recomended)

 -- Mario Izquierdo (mariodebian) <mariodebian@gmail.com>  Tue,  4 Jul 2006 11:48:11 +0200

initramfs-tools-tcos (0.47.b6) unstable; urgency=low

  * Delete depends of non avalaible unionfs and sqaushfs modules
  * Add TCOS_XMLRPC_USER and TCOS_XMLRPC_PASS to conf/tcos.conf file
  * Add background sshx start (close terminal after startx)

 -- Mario Izquierdo (mariodebian) <mariodebian@gmail.com>  Thu, 29 Jun 2006 15:44:33 +0200

initramfs-tools-tcos (0.47-b5) unstable; urgency=low

  * Add -extramodules="foo,bar" argument
  * add hooks-addons/tcos to write into conf date and version
  * Add hooks-addons/hwclock to setup date by BIOS clock
  * Add update_progress() to any init script (usplash progress bar)

 -- Mario Izquierdo (mariodebian) <mariodebian@gmail.com>  Tue, 20 Jun 2006 17:00:08 +0200

initramfs-tools-tcos (0.47-b4) unstable; urgency=low

  * New subrelease.
  * Add IP.conf support (put a file in /tftpboot/tcos/conf/
    like 192.168.0.25.conf and vars will overwrite tcos.conf)
  * Add X resolution and depth support, cmdline vars:
    res=800x600
    depth=16
  * Disable mouse wheel from cmdline => disablewheel

 -- Mario Izquierdo (mariodebian) <mariodebian@gmail.com>  Wed,  7 Jun 2006 20:09:29 +0200

initramfs-tools-tcos (0.47-b3) unstable; urgency=low

  * New subrelease.
  * Add new startx methods (F=freenx S=ssh -X)

 -- Mario Izquierdo (mariodebian) <mariodebian@gmail.com>  Wed,  7 Jun 2006 19:47:56 +0200

initramfs-tools-tcos (0.47-b2) unstable; urgency=low

  * Add tinylogin dependency debian/control.
  * Update initramfs-tools-tcos version dependencies.
  * Fix tcos-shfs[u]mount scripts (is_remote and is_mounted don't work clean)

 -- Mario Izquierdo (mariodebian) <mariodebian@gmail.com>  Wed,  7 Jun 2006 10:48:35 +0200

initramfs-tools-tcos (0.47-b1) unstable; urgency=low

  * Add TCOS_ADMIN_USER entry (ssh key and italc key)
  * Add TCOS_REMOTEFS selector (shfs, ltspfs, none)
  * Remove TCOS_BIG_BUSYBOX (reboot and poweroff now works!!!)
  * Add TCOS_SHOW_NEEDED_MODULES (show loaded and discover detected modules)
  * Add showmodules cmdline to show loaded, discover and not found modules info.
  * Add tcos-server-utils package:
    - tcos-shfsmount  (mount shfs in terminal)
    - tcos-shfsumount (umount shfs)
  * Add manpages of tcos-shfs[u]mount.1
  * Update gentcos manpage
  * Add tinylogin utils to create users and groups with busybox.

 -- Mario Izquierdo (mariodebian) <mariodebian@gmail.com>  Tue, 30 May 2006 22:35:59 +0200

initramfs-tools-tcos (0.47) unstable; urgency=low

  * Bad news, TCOS not accepted in SoC :(
  * Change all dirs to not intercept with initramfs-tools => all code is in /etc/tcos
  * Split tcosbin hooks file into some package-unit files, ex: xorg, discover, sound, autofs...
  * Update gentcos scripts and gentcos manpage
  * Update help.msg (pxelinux help screen)
  * Fix dropbear SSH server startup failure /dev/random => /dev/urandom
  * Clean ping before startx (resolved with /dev/urandom)
  * Start Xorg once time (keyboard seems to work correctly)
  * Add iTALC support, start ivs and daemonize it
  * Enable remote reboot and poweroff (copy reboot & poweroff in /usr/sbin, outside of squashfs)
  * Add reboot and poweroff wrapper scripts (kill X, kill process, umount squash, umount all, reboot/poweroff)
  * Delete/clean ACPI and RAID stuff (add new var TCOS_DISABLE_ACPI) -215 Kb !!!
  * Add X11VNC support (not only iTALC)
  * Join code to mount a ext3/vfat part in 15uselocal and use from swapon or sqmount
  * Add break points with every startup script:
    - network, fstab, uselocal, swapon, sqmount, ldconfig, autofs, inittcos, initsound, ltspfs, startx
  * NOT use package revision numbers, initramfs-tools-tcos is debian based !!!!
  * Mount /dev/shm as tmpfs in 50ldconfig

 -- Mario Izquierdo (mariodebian) <mariodebian@gmail.com>  Thu, 25 May 2006 11:48:27 +0200

initramfs-tools-tcos (0.46-3) unstable; urgency=low

  * Updates README file ( debug a kernel panic )
  * Delete scripts/tcos-premount/40unionfs and put code in 30sqmount
  * More easy script scripts/tcos-premount/30sqmount
  * add allmodules.squashfs ( all kernel modules to debuging )
  * add _log() function ( write into /tmp/initramfs.debug )
  * add reboot and poweroff scripts ( reboot -f / poweroff -f )

 -- Mario Izquierdo (mariodebian) <mariodebian@gmail.com>  Wed, 17 May 2006 16:24:02 +0200

initramfs-tools-tcos (0.46-2) unstable; urgency=low

  * Add info about missing packages
  * Add TCOS_DISABLE_ACPI to delete acpi and raid stuff
  * Complete gentcos script support to be more flexible from TcosConfig
  * Add some debconf scripts and templates

 -- Mario Izquierdo (mariodebian) <mariodebian@gmail.com>  Sun, 14 May 2006 14:12:34 +0200

initramfs-tools-tcos (0.46-1) unstable; urgency=low

  * Add support of embedded web browser (dillo 25Mb or links2 6 Mb)
  * Reorganize hooks/tcosbin scripts
  * Add some functions to conf/tcos-functions to copy files and dirs
  * Add resolv.conf file generated from server resolv.conf ( browser need it )
  * Add HACKING info.
  * Add Etherboot support ( NBI images )

 -- Mario Izquierdo (mariodebian) <mariodebian@gmail.com>  Thu, 11 May 2006 12:05:31 +0200

initramfs-tools-tcos (0.46) unstable; urgency=low

  * Initial version of tcos own package.
  * Rename pxes to TCOS support (Thin Client Operating System)
  * Add swap file mount and generation system
  * Mount /usr in read-write mode unionfs and 2 Mb of ram filesystem.
  * Add ltspfs daemon and autofs to read devices from user session.
  * Remove samba support.
  * Split TCOS to his own package.
  * Add /tftboot/tcos dir to all needed into it.
  * Create symbolic link to /boot/vmlinuz-xxxxx into /tftpboot/tcos
  * Add /etc/tcos dir to not touch /etc/mkinitramfs files
  * Add /etc/tcos/tcos-functions with common shell script functions
  * Create symbolic link to /usr/lib/syslinux/pxelinux.0 into /tftpboot/tcos
  * Add support of ssh server (dropbear ssh don't need PAM)
  * Copy ssh rsa public keys to .ssh root home in initramfs (no pass needed)
  * Add support of Xorg 7.0 or 6.9 (debian testing unstable generation build systems)
  * Move vars to /etc/tcos/tcos.conf (only vars)
  * Use debian kernel 2.6.16-1-486 (can use any > 2.6.12)

 -- Mario Izquierdo (mariodebian) <mariodebian@gmail.com>  Sun,  7 May 2006 18:43:07 +0200
